{% macro render_edit_categories(course) -%}

<table id="category-form-table">
  <tr>
    <th style="display:none;"></th>
    <th>Assessment Category</th>
    <th>Weighting (%)</th>
  </tr>
  {% for category in course.assessment_categories %}
    <tr valign="top">
      <td style="display:none;"><input type="number" id="cat_id_{{ loop.index0 }}" value="{{ category.id }}"></td>
      <td><input type="text" class="form-control" id="category_{{ loop.index0 }}" placeholder="Category" value='{{ category.name }}' required>
      <label id="category_error_{{ loop.index0 }}" class="invalid-feedback" for="category_{{ loop.index0 }}">
        invalid entry
      </label>
      </td>
      <td><input type="float" id="weighting_{{ loop.index0 }}" class="form-control" placeholder="Weighting" value='{{ category.weight }}' required>
      <label id="weighting_error_{{ loop.index0 }}" class="invalid-feedback" for="weighting_{{ loop.index0 }}">
        invalid entry
      </label>
      </td>
      <td><a class="btn btn-link {{ 'disabled' if category.papers }}" aria-label="Delete Category" onclick="remove_cat_field_row($(this));">
        <span data-feather="trash-2"></span></a></td>

    </tr>
  {% endfor %}
</table>
<a role="button" aria-label="Add Category" class="btn btn-link" onclick="insert_cat_field_row();">Add New Category
  <span data-feather="plus-circle"></span></a>

{%- endmacro %}
