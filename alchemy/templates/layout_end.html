    <footer class="pt-2 my-5 border-top container text-right">
        <small class="text-muted">Alchemy - &copy; Orbital Labs PTE. LTD.</small>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"   integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="   crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>

    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Other common JavaScript files -->
    <script src="{{ url_for('static', filename='question_tag_manager.js') }}"></script>

    <script type="text/javascript">
      (function () {
        init_page();
      }())

      function init_page() {
        // Show Bootstrap feather icons
        feather.replace();

        {% if show_editing_controls %}
        // Set up draggable table rows
        $('#open_answer_questions_table').sortable({
          opacity: 0.5,
          update: paper_reorder_questions,
        });
        $('#multiple_choice_questions_table').sortable({
          opacity: 0.5,
          update: paper_reorder_questions,
        });
        {% endif %}
      }

      function paper_reorder_questions(event, ui) {
        var tbody_id = ui.item.attr('id').startsWith('open_answer')
            ? 'open_answer_questions_table'
            : 'multiple_choice_questions_table';
        var tbody = $('#' + tbody_id);
        var sorted_question_ids = tbody.sortable('serialize');
        var paper_id = tbody.attr('data-alchemy_paper_id');
        var course_id = tbody.attr('data-alchemy_course_id');

        $.getJSON('/course/' + course_id + '/paper/' + paper_id + '/reorder_questions', {
          'sorted_question_ids': sorted_question_ids,
        }, function(data) {
          paper_question_process_ajax_response(data);
        });
      }

      function paper_add_question(course_id, paper_id, question_id) {
        var tag_filter_list = Object.keys(window.question_tag_filter || {})
        $.getJSON('/course/' + course_id + '/paper/' + paper_id + '/add_question', {
          question_id: question_id,
          tag_filter: tag_filter_list.join(','),
        }, function(data) {
          paper_question_process_ajax_response(data);
        });
      }

      function paper_remove_question(course_id, paper_id, question_id) {
        var tag_filter_list = Object.keys(window.question_tag_filter || {})
        $.getJSON('/course/' + course_id + '/paper/' + paper_id + '/remove_question', {
          question_id: question_id,
          tag_filter: tag_filter_list.join(','),
        }, function(data) {
          paper_question_process_ajax_response(data);
        });
      }

      function paper_question_process_ajax_response(data) {
        $('#paper_questions_area').html(data.paper_questions_html);
        $('#available_questions_area').html(data.available_questions_html);
        $('#stats_sidebar').html(data.stats_sidebar_html);

        // Queue a re-run of MathJax over the updated question HTML
        MathJax.typesetPromise($('#paper_questions_area'));
        MathJax.typesetPromise($('#available_questions_area'));

        init_page();
      }

      function toggle_sidebar() {
        var sidebar = document.getElementById('stats_sidebar');
        if (!sidebar.style.width) {
          sidebar.style.width = '17em';
        } else {
          sidebar.style.width = '';
        }
        $('#stats_toggle_button').toggleClass('active');
      }
    </script>

  </body>
</html>
