{% extends "school/layout.html" %}

{% block school_tab_content %}

  <h3>Reporting Events</h3>
  <br>
  <p>Reporting Events are when a collection of Reports will be created and published for all courses. You can find the existing ones below, or create a new one.</p>
  <br>
  {% if not g.school.snapshots %}
    <h5 color='red'>There are no Reporting Events to view.</h5>
  {% else %}
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Event</th>
          <th scope="col">Ready</th>
          <th scope="col">Published</th>
        </tr>
      </thead>
      <tbody>
        {% for snapshot in g.school.snapshots %}
          <tr>
            <td>{{ snapshot.name }}</td>
            <td>Yes / No</td>
            <td>Yes / No</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
  <br>
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  New Reporting Event
  </button>
    <!-- Add Snapshot Modal here -->
  {% import "school/new_snapshot_macro.html" as new_snapshot %}
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <p>{{ new_snapshot.render_modal(g.school) }}</p>
    </div>
  </div>

{% endblock school_tab_content %}
