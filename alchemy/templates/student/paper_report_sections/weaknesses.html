<h2><b>Areas for Improvement</b></h2>
<br>
<table class="table table-hover">
  <thead>
    <th style="text-align:center">Questions</th>
    <th style="text-align:center">Tags</th>
  </thead>
  <tr>
    <td>
      {% if highlights_section.question_highlights.has_strengths and highlights_section.question_highlights.has_weaknesses %}

        {% if highlights_section.paper.has_oa_questions() %}
          {% if highlights_section.question_highlights.weaknesses|length == 1 %}
            <p>The Open Answer Question where you may require further revision, with {{ highlights_section.question_highlights.weaknesses[0].percent_score }} %, Grade Level: {{ highlights_section.question_highlights.weaknesses[0].grade }}, is:</p>

            <p><b>Question {{ highlights_section.question_highlights.weaknesses[0].object.order_number }}</b>, with {{ highlights_section.question_highlights.weaknesses[0].raw_score }} out of {{ highlights_section.question_highlights.weaknesses[0].total }} marks available.</p>

          {% elif highlights_section.question_highlights.weaknesses|length > 1 %}
            <p>The Open Answer Questions that may require further revision, with {{ highlights_section.question_highlights.weaknesses[0].percent_score }} %, Grade Level: {{ highlights_section.question_highlights.weaknesses[0].grade }}, are:</p>

            {% for statsumm in highlights_section.question_highlights.weaknesses %}
              <p><b>Question {{ statsumm.object.order_number }}</b>, with {{ statsumm.raw_score }} out of {{ statsumm.total }} marks available.</p>
            {% endfor %}

          {% endif %}
        {% endif %}

      {% elif highlights_section.question_highlights.has_strengths %}

        <p>Great news! There is insufficient data to recommend areas for improvement.</p>

      {% else %}

        <p>Unfortunately, it looks like all Open Answer Questions will require further revision.</p>

      {% endif %}
    </td>
    <td>
      {% if highlights_section.tag_highlights.has_strengths and highlights_section.tag_highlights.has_weaknesses %}

        {% if highlights_section.tag_highlights.weaknesses|length == 1 %}
          <p>The area that may require the most revision, with {{ highlights_section.tag_highlights.weaknesses[0].percent_score }} %, Grade Level: {{ highlights_section.tag_highlights.weaknesses[0].grade }}, was:</p>

          <p><b>{{ highlights_section.tag_highlights.weaknesses[0].object.tag.name }}</b>, with {{ highlights_section.tag_highlights.weaknesses[0].raw_score }} out of {{ highlights_section.tag_highlights.weaknesses[0].total }} marks available.</p>

          {% elif highlights_section.tag_highlights.weaknesses|length > 1 %}
            <p>The areas which may require the most revision, with {{ highlights_section.tag_highlights.weaknesses[0].percent_score }} %, Grade Level: {{ highlights_section.tag_highlights.weaknesses[0].grade }}, were:</p>

          {% for statsumm in highlights_section.tag_highlights.weaknesses %}
            <p><b>{{ statsumm.object.name }}</b>, with {{ statsumm.raw_score }} out of {{ statsumm.total }} marks available.</p>
          {% endfor %}

        {% endif %}

      {% elif highlights_section.tag_highlights.has_strengths %}

        <p>You addressed all areas at the highest level! There is insufficient data for this assessment to recommend areas for improvement.</p>

      {% else %}

        <p>All assessed areas will require further revision.</p>
        <p>Don't panic! Ask your teacher for strategies to improve!</p>

      {% endif %}
    </td>
  </tr>
</table>
